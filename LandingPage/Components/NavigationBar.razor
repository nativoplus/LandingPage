@implements IDisposable
@inject NavigationManager NavigationManager

<!-- start of page header -->
<header id="header" class="nospace">
    <!-- header holder -->
    <div class="header-holder">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <!-- Page logo -->
                    <div class="logo pull-left"><a href="index.html">Nativo.</a></div>
                    <div class="holder pull-right">
                        <a href="#" class="pe-7s-menu menu-opener opener pull-right visible-xs"></a>
                        <a href="#" class="pe-7s-search search-opener pull-right opener"></a>
                        <!-- start of page navigation -->
                        <nav id="nav" class="text-uppercase">
                            <ul class="list-inline">
                                <li>
                                    <a @onclick=@( () => NavigateTo("/"))>Home</a>

                                    @* <div class="drop">
                                        <ul class="list-unstyled">
                                        <li><a href="home1.html">HomePage 1</a></li>
                                        <li><a href="home2.html">HomePage 2</a></li>
                                        <li><a href="home3.html">HomePage 3</a></li>
                                        <li><a href="home4.html">HomePage 4</a></li>
                                        <li><a href="home5.html">HomePage 5</a></li>
                                        <li><a href="home6.html">HomePage 6</a></li>
                                        <li><a href="home7.html">HomePage 7</a></li>
                                        <li><a href="home8.html">HomePage 8</a></li>
                                        <li><a href="home9.html">HomePage 9</a></li>
                                        </ul>
                                        </div>*@
                                </li>
                                <li>
                                    <a class="drop-link" href="#">Work</a>
                                    <div class="drop">
                                        <ul class="list-unstyled">
                                            @*                <li><a href="about.html">About Us</a></li>
                                                <li><a href="team.html">Team</a></li>*@
                                            <li><a @onclick=@( () => NavigateTo("/services"))>Our Work</a></li>
                                            @*  <li><a href="contact.html">Contact</a></li>
                                                <li><a href="coming-soon.html">Coming Soon</a></li>
                                                <li><a href="404.html">Error 404</a></li>
                                                <li><a href="500.html">Error 500</a></li>*@
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a class="drop-link" href="#">Portfolio</a>
                                    <div class="drop">
                                        <ul class="list-unstyled">
                                            <li><a href="portfolio.html">Portfolio Standard</a></li>
                                            <li><a href="portfolio2.html">Portfolio Masonry</a></li>
                                            <li><a href="portfolio-detail.html">Portfolio Details</a></li>
                                        </ul>
                                    </div>
                                </li>

                                @* <li>
                                    <a class="drop-link" href="#">Blog</a>
                                    <div class="drop">
                                    <ul class="list-unstyled">
                                    <li><a href="blog.html">Blog Standard</a></li>
                                    <li><a href="blog-sidebar.html">Blog Left Sidebar</a></li>
                                    <li><a href="blog-sidebar2.html">Blog Right Sidebar</a></li>
                                    <li><a href="blog-detail-fullwidth.html">Blog Single</a></li>
                                    <li><a href="blog-detail-leftsidebar.html">Blog Single Leftside</a></li>
                                    <li><a href="blog-detail.html">Blog Single Rightside</a></li>
                                    </ul>
                                    </div>
                                    </li>
                                *@
                            </ul>
                        </nav><!-- end of page navigation -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</header><!-- end of page header -->
@code {

    protected override void OnInitialized()
    {
        NavigationManager.LocationChanged += LocationChanged;
        base.OnInitialized();
    }
    public void NavigateTo(string path)
    {
        // Forced Reload To Ensure a Fresh Instance of Javascript Files.
        NavigationManager.NavigateTo(path, forceLoad: true);
    }
    private void LocationChanged(object sender, LocationChangedEventArgs e)
    {
        string navigationMethod = e.IsNavigationIntercepted ? "HTML" : "code";
        System.Diagnostics.Debug.WriteLine($"Notified of navigation via {navigationMethod} to {e.Location}");
    }
    void IDisposable.Dispose()
    {
        // Unsubscribe from the event when our component is disposed
        NavigationManager.LocationChanged -= LocationChanged;
    }
}
